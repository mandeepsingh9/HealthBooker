"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[681],{681:(e,a,r)=>{r.r(a),r.d(a,{default:()=>p});var s=r(5043),t=r(6213),n=r(2339),o=r(5089),l=r(9456),i=r(8271),m=r(5789),c=r(7070),d=r(579);t.A.defaults.baseURL="https://health-booker-peach.vercel.app/api";const p=function(){const{userId:e}=(0,c.A)(localStorage.getItem("token")),a=(0,l.wA)(),{loading:r}=(0,l.d4)((e=>e.root)),[p,u]=(0,s.useState)(""),[f,h]=(0,s.useState)({firstname:"",lastname:"",email:"",age:"",mobile:"",gender:"neither",address:"",password:"",confpassword:""});(0,s.useEffect)((()=>{(async()=>{try{a((0,o.r1)(!0));const r=await(0,m.A)("/user/getuser/".concat(e));h({...r,password:"",confpassword:"",mobile:null===r.mobile?"":r.mobile,age:null===r.age?"":r.age}),u(r.pic),a((0,o.r1)(!1))}catch(r){}})()}),[a]);const g=e=>{const{name:a,value:r}=e.target;return h({...f,[a]:r})};return(0,d.jsx)(d.Fragment,{children:r?(0,d.jsx)(i.A,{}):(0,d.jsx)("section",{className:"register-section flex-center",children:(0,d.jsxs)("div",{className:"profile-container flex-center",children:[(0,d.jsx)("h2",{className:"form-heading",children:"Profile"}),(0,d.jsx)("img",{src:p,alt:"profile",className:"profile-pic"}),(0,d.jsxs)("form",{onSubmit:async e=>{try{e.preventDefault();const{firstname:a,lastname:r,email:s,age:o,mobile:l,address:i,gender:m,password:c,confpassword:d}=f;if(!s)return n.Ay.error("Email should not be empty");if(a.length<3)return n.Ay.error("First name must be at least 3 characters long");if(r.length<3)return n.Ay.error("Last name must be at least 3 characters long");if(c.length<5)return n.Ay.error("Password must be at least 5 characters long");if(c!==d)return n.Ay.error("Passwords do not match");await n.Ay.promise(t.A.put("/user/updateprofile",{firstname:a,lastname:r,age:o,mobile:l,address:i,gender:m,email:s,password:c},{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}),{pending:"Updating profile...",success:"Profile updated successfully",error:"Unable to update profile",loading:"Updating profile..."}),h({...f,password:"",confpassword:""})}catch(a){return n.Ay.error("Unable to update profile")}},className:"register-form",children:[(0,d.jsxs)("div",{className:"form-same-row",children:[(0,d.jsx)("input",{type:"text",name:"firstname",className:"form-input",placeholder:"Enter your first name",value:f.firstname,onChange:g}),(0,d.jsx)("input",{type:"text",name:"lastname",className:"form-input",placeholder:"Enter your last name",value:f.lastname,onChange:g})]}),(0,d.jsxs)("div",{className:"form-same-row",children:[(0,d.jsx)("input",{type:"email",name:"email",className:"form-input",placeholder:"Enter your email",value:f.email,onChange:g}),(0,d.jsxs)("select",{name:"gender",value:f.gender,className:"form-input",id:"gender",onChange:g,children:[(0,d.jsx)("option",{value:"neither",children:"Prefer not to say"}),(0,d.jsx)("option",{value:"male",children:"Male"}),(0,d.jsx)("option",{value:"female",children:"Female"})]})]}),(0,d.jsxs)("div",{className:"form-same-row",children:[(0,d.jsx)("input",{type:"text",name:"age",className:"form-input",placeholder:"Enter your age",value:f.age,onChange:g}),(0,d.jsx)("input",{type:"text",name:"mobile",className:"form-input",placeholder:"Enter your mobile number",value:null===f||void 0===f?void 0:f.mobile,onChange:g})]}),(0,d.jsx)("textarea",{type:"text",name:"address",className:"form-input",placeholder:"Enter your address",value:f.address,onChange:g,rows:"2"}),(0,d.jsxs)("div",{className:"form-same-row",children:[(0,d.jsx)("input",{type:"password",name:"password",className:"form-input",placeholder:"Enter your password",value:f.password,onChange:g}),(0,d.jsx)("input",{type:"password",name:"confpassword",className:"form-input",placeholder:"Confirm your password",value:f.confpassword,onChange:g})]}),(0,d.jsx)("button",{type:"submit",className:"btn form-btn",children:"update"})]})]})})})}}}]);
//# sourceMappingURL=681.72bfe180.chunk.js.map